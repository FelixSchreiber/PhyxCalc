= PhyxCalc 3 Documentation
(Physical Expression Calculator)

Open Source Software
Alexander Rössler
<mail.aroessler@gmail.com>
Version 1.0, February 28th 2012

== Introduction
PhyxCalc introduces a very flexible and comfortable way to calculate mathematical expressions, including physical units and complex numbers, using a flexible text-editor-like environment. In your expressions you can use a predefined selection of common constants and units or defining your own. You can even export your calculated formulas to OpenOffice Math formula editor to include them your everyday documents (support for LaTeX export is planned).

However please consider following rules:

* equivocal expressions (e.g. unit m and variable m) can cause problems, so try to avoid them

== Editor
In the main text edit expressions are both written and calculated. Just enter your expression and press return (or enter on mobile platforms) and the result will be written in the next line. The line will be replaced if it start with an equal sign. Not every result will be shown in the next line, some expressions like variable definitions have no output in the text edit. Inserting symbols and expressions is also possible with various docks, adding your own costomized dock is also possible and will be shown later.

Example: approximate formula for pi
----
3*ln(640320)/sqrt(163) <Return>
=3.141592653589793016
----

=== Keyboard shortcuts

*Text Editor shortcuts:* +
<Return>:		Calculate expression at current line +
<Shift + Enter>:	Insert line break +
<Ctrl + Enter>:		Calculate expression, cursor stays at line +
<Ctrl + Z>:		Undo +
<Ctrl + Shift + Z>:	Redo +
<Ctrl + X>:		Cut +
<Ctrl + C>:		Copy +
<Ctrl + V>:		Paste +
<Ctrl + A>:		Select All +

*Application shortcuts:* +
<F1>:			Show help +
<Ctrl + N>:		New document +
<Ctrl + O>:		Open document +
<Ctrl + S>:		Save document +
<Ctrl + Shift + S>:	Save all documents +
<Ctrl + W>:		Close document +
<Ctrl + Shift + W>:	Close all documents +
<Ctrl + T>:		Open new tab +
<Ctrl + R>:		Recalculate whole document +
<Ctrl + Shift + R>:	Calculate from line +
<Ctrl + E>:		Open export dialog +
<Ctrl + Q>:		Quit application +

=== Exporting formulas
To export formulas use the export dialog. Once the dialog is opened, your expressions will be instantly converted. The converted output just insert in your OpenOffice Math.

=== Adding your own docks
Adding your own customized docks to PhyxCalc is really simple. Just create a textfile with following outline in your setting directory:
----
tooltip; name in the dock; text to insert in the text editor
----

Example:
----
sine function;sin;sin()
cosine function;cos;cos()
tangens function;tan;tan()
arcus sine function;asin;asin()
arcus cosine function;acos;acos()
----

Then open the file docks.txt and add a line with the following outline:
----
docktitle;yourdockfilename.txt
----

Example:
----
Symbols;symbols.txt
----

Now restart PhyxCalc and start using your dock.

== Mathematical Functions
Alle mathematical functions can be written with the first letter uppercase or lowercase or only with uppercase letters. Trigonometric are using radiant, for degrees use dimensionless unit °.

=== Operators and symbols
PhyxCalc uses C++-like operators and some additional operators for special mathematical functionality. The operators are ordered beginning with highest priority.

.PhyxCalc Operators
[options="header"]
|=======================
|Predence |Operator |Description 
|1        |++ \--       |Prefix/postfix increment and decrement
|	  |()           |Braces and function calls
|	  |{}           |Numeric value braces, removing the unit
|2        |+ -          |Unary plus and minus
|         |! ~          |Prefix: logical NOT and bitwise NOT
|	  |!            |Postfix: fakulty
|3        |^ ² ³        |Powers
|4	  |* / mod      |Multiplication, division and remainder (modulo operator)
|5        |+ -          |Addition and substraction
|6        |<< >>        |Bitwise left shift and right shift
|7	  |< \<= >= >   |Relational <, ≤, ≥ and >
|8        |== !=        |Relational = and ≠
|9	  |& bAND       |Bitwise AND
|10       |^^ bXOR      |Bitwise XOR
|11       |\| bOR       |Bitwise OR
|12       |XAND         |Logical XAND
|13       |&& AND NAND  |Logical AND and NAND
|14       |XOR          |Logical XOR
|15       |\|\| OR NOR  |Logical OR and NOR
|16       |?: if then else IF(;;) |Conditional operators
|17       |=            |Direct assignment
|         |+= -=        |Assignment by sum and difference
|         |*= /= %=     |Assignment by product, quotient and remainder
|         |<\<= >>=      |Assignment by bitwise left shift and right shift
|         |&= ^= \|=    |Assignment by bitwise AND, XOR and OR
|18       |,            |Comma, sequential operator
|=======================

.Special Operators, see specific sections for more details
[options="header"]
|=======================
|Operator |Description
|\->      |Converting to something
|=        |Defining and deleting variables
|:=       |Defining and deleting constants
|other    |Defining unit systems, units and prefixes, see units for more details
|=======================
 
=== Trigonometric and hyperbolic functions
*sin*, *cos*, *tan*, *arcsin*, *arccos*, *arctan* +
*sinh*, *cosh*, *tanh*, *arcsinh*, *arccosh*, *arctanh*

=== Logarithms, exponential function and roots
*ln*, *log*<n>, *exp*, *sqrt*=*sqr*, *root*<n> +
Example:
----
exp(3)
=20.08553692318766774
log2(1024)
=10
root12(25)
=1.307660486011830591
----

=== Threshold functions
*min*(a,b), *max*(a,b) +
*abs*(x) absolute value +
*sign*(x) signum function: -1, 0, 1 for x<0, x=0, x>0 +
*heaviside*(x) heaviside function: 0, 1 for x<0, x>=0 +

=== Discretization functions
*int* = *trunc*, *ceil*, *floor*, *round* +
(truncate, round up, round down, round-to-nearest)

=== Random functions
*rnd* = *rand*: generates random number between 0 and 1 +
*rndi*(i) = *randi*: generates random number 0\<=rndi(i)<i +
*rndg*(m, nd) = *randg*: generates Gaussian distributed number mean value m and normal distribution nd

=== Complex functions
*Re*(z): returns real part of a complex number +
*Im*(z): returns imaginary part of a complex number +
*arg*(z): returns the argument of a complex number +
*norm*(z): returns the norm value of a complex number +
*conj*(z): returns the conjugate of a complex number +
*polar*(rho, theta): returns a complex number corresponding to the complex number defined by its polar components, where rho is the magnitude and theta is the phase angle

=== Defining custom functions
Defing custom functions in PhyxCalc is pretty easy, just write the name of your function, add the parameters and an expression.

Example: calculating a diode around its forward voltage
----
Is=10e-15A
VT=25mV
I(U)=Is*(exp(U/VT)-1)

I(0.6V)
=264.8912213µA
I(0.7V)
=14.46257064mA
I(0.8V)
=789.6296018mA
----

=== Precision
PhyxCalc is using 64bit and 96bit floating point numbers, depending on your operating system. As every computing system not using arbitrary precision, PhyxCalc has accuracy problems. Depending on your expression, this can cause your result to be not as accurate as you wish. See Wikipedia for more information on floating point numbers and accuracy problems: http://en.wikipedia.org/wiki/Floating_point#Accuracy_problems

== Variables


== Number formats and number systems

== Units
=== Defining new units